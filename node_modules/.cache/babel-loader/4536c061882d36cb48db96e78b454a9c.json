{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\TocaDosGatos\\\\Documents\\\\FIPP-2023\\\\FullstackIIDP\\\\frontend\\\\src\\\\TelasDeCadastro\\\\TelaDeCadastroProdutos.js\",\n  _s = $RefreshSig$();\nimport Pagina from \"../templates/Pagina\";\nimport FormCadProdutos from \"../formularios/FormCadProdutos\";\nimport TabelaProdutos from \"../tabelas/tabelaProdutos\";\nimport { useState, useEffect } from \"react\";\nimport TelaCarregamento from \"./TelaCarregamento\";\nimport TelaErro from \"./TelaErro\";\nimport STATUS from \"../Utilitarios/util\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function TelaCadastroProdutos(props) {\n  _s();\n  function buscarProdutos() {\n    fetch('http://localhost:5000/produto', {\n      method: \"GET\"\n    }).then(resposta => {\n      return resposta.json();\n    }).then(dados => {\n      setListaProdutos(dados);\n      setStatus(STATUS.carregado);\n    }).catch(erro => {\n      setStatus(STATUS.erro);\n    });\n  }\n  function prepararProdutoParaEdicao(produto) {\n    setAtualizando(true);\n    setProdutoEmEdicao(produto);\n    setExibirTabela(false);\n  }\n  const [produtoEmEdicao, setProdutoEmEdicao] = useState({\n    codigo: 0,\n    nome: \"\",\n    qtde: 0,\n    preco: 0,\n    categoria: \"\"\n  });\n  const [exibirTabela, setExibirTabela] = useState(true);\n  const [status, setStatus] = useState(STATUS.ocioso);\n  const [listaProdutos, setListaProdutos] = useState([]);\n  const [produtoSelecionado, setProdutoSelecionado] = useState({});\n  const [atualizando, setAtualizando] = useState(false);\n  useEffect(() => {\n    setStatus(STATUS.ocioso);\n    buscarProdutos();\n  }, []);\n  if (exibirTabela) {\n    if (status === STATUS.ocioso) {\n      return /*#__PURE__*/_jsxDEV(TelaCarregamento, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }, this);\n    } else if (status === STATUS.carregado) {\n      return /*#__PURE__*/_jsxDEV(Pagina, {\n        children: /*#__PURE__*/_jsxDEV(TabelaProdutos, {\n          dados: listaProdutos,\n          onTabela: setExibirTabela\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(TelaErro, {\n        mensagem: \"N\\xE3o foi poss\\xEDvel recuperar os dados das Categorias de Produtos. \\r Por favor, entre em contato com a administra\\xE7\\xE3o do sistema!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }, this);\n    }\n  } else {\n    return /*#__PURE__*/_jsxDEV(Pagina, {\n      children: /*#__PURE__*/_jsxDEV(FormCadProdutos, {\n        onTabela: setExibirTabela,\n        listaProdutos: setListaProdutos,\n        atualizando: atualizando,\n        produto: produtoEmEdicao\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this);\n  }\n}\n_s(TelaCadastroProdutos, \"RC2amayCUsY/LuWcmkW8JEl4E2g=\");\n_c = TelaCadastroProdutos;\nvar _c;\n$RefreshReg$(_c, \"TelaCadastroProdutos\");","map":{"version":3,"names":["Pagina","FormCadProdutos","TabelaProdutos","useState","useEffect","TelaCarregamento","TelaErro","STATUS","TelaCadastroProdutos","props","buscarProdutos","fetch","method","then","resposta","json","dados","setListaProdutos","setStatus","carregado","catch","erro","prepararProdutoParaEdicao","produto","setAtualizando","setProdutoEmEdicao","setExibirTabela","produtoEmEdicao","codigo","nome","qtde","preco","categoria","exibirTabela","status","ocioso","listaProdutos","produtoSelecionado","setProdutoSelecionado","atualizando"],"sources":["C:/Users/TocaDosGatos/Documents/FIPP-2023/FullstackIIDP/frontend/src/TelasDeCadastro/TelaDeCadastroProdutos.js"],"sourcesContent":["import Pagina from \"../templates/Pagina\";\r\nimport FormCadProdutos from \"../formularios/FormCadProdutos\";\r\nimport TabelaProdutos from \"../tabelas/tabelaProdutos\";\r\nimport { useState, useEffect } from \"react\";\r\nimport TelaCarregamento from \"./TelaCarregamento\";\r\nimport TelaErro from \"./TelaErro\";\r\nimport STATUS from \"../Utilitarios/util\";\r\n\r\nexport default function TelaCadastroProdutos(props){\r\n\r\n    function buscarProdutos(){\r\n        fetch('http://localhost:5000/produto',{method:\"GET\"})\r\n        .then((resposta) => {\r\n            return resposta.json();\r\n        }).then((dados) => {\r\n            setListaProdutos(dados);\r\n            setStatus(STATUS.carregado);      \r\n        }).catch((erro) => {\r\n            setStatus(STATUS.erro);\r\n        });\r\n            \r\n    }\r\n\r\n    function prepararProdutoParaEdicao(produto){\r\n           setAtualizando(true);\r\n           setProdutoEmEdicao(produto);\r\n           setExibirTabela(false);\r\n         }\r\n    const [produtoEmEdicao, setProdutoEmEdicao] = useState({\r\n        codigo : 0,\r\n        nome : \"\",\r\n        qtde:0,\r\n        preco:0,\r\n        categoria:\"\"\r\n    });\r\n     \r\n    \r\n    const [exibirTabela, setExibirTabela] = useState(true);\r\n    const [status, setStatus] = useState(STATUS.ocioso);\r\n    const [listaProdutos, setListaProdutos] = useState([]);\r\n    const [produtoSelecionado, setProdutoSelecionado] = useState({});\r\n    const [atualizando, setAtualizando] = useState(false);\r\n  \r\n   \r\n    useEffect(() => {\r\n        setStatus(STATUS.ocioso);\r\n        buscarProdutos();\r\n    },[])\r\n\r\n  \r\n    if(exibirTabela){\r\n\r\n        if (status === STATUS.ocioso){\r\n           return(\r\n                    <TelaCarregamento/>\r\n                 );\r\n    }\r\n    else if (status === STATUS.carregado) {\r\n        return(\r\n            <Pagina>\r\n                <TabelaProdutos dados={listaProdutos} onTabela={setExibirTabela}/>\r\n            </Pagina>\r\n        );\r\n    }\r\n    else{\r\n        return(\r\n            <TelaErro mensagem=\"Não foi possível recuperar os dados das Categorias de Produtos. \r\n            Por favor, entre em contato com a administração do sistema!\"/>\r\n        );\r\n    }\r\n}\r\nelse {\r\n    return(\r\n        <Pagina>\r\n            <FormCadProdutos onTabela={setExibirTabela} listaProdutos={setListaProdutos} atualizando={atualizando} produto={produtoEmEdicao}/>\r\n        </Pagina>\r\n    );\r\n}\r\n    \r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}