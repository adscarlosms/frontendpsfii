{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\TocaDosGatos\\\\Documents\\\\FIPP-2022\\\\Programa\\xE7\\xE3o FullStack I\\\\Atividadefinalvc1 (2)\\\\Atividade-final-vc2 - Copia (2)\\\\frontend\\\\src\\\\componentes\\\\busca\\\\BarraBusca.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useRef } from \"react\";\nimport { Form, Button, Container } from \"react-bootstrap\";\nimport \"./barraBusca.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function BarraBusca(_ref) {\n  _s();\n  let {\n    placeHolder,\n    dados,\n    campoChave,\n    campoBusca,\n    funcaoSelecao,\n    valor\n  } = _ref;\n  //manipula o input (ciclo de vida)\n  const inputBusca = useRef();\n  //definição dos estados do componente\n  const [termoBusca, setTermoBusca] = useState(valor ? valor : \"\");\n  const [dadosLista, setDadosLista] = useState(dados);\n  const [itemSelecionado, setItemSelecionado] = useState(false);\n  function filtrarResultado() {\n    //exige que o termo da busca seja conhecido e que seja utilizado como\n    //critério de seleção\n    setDadosLista(dados.filter(item => {\n      return termoBusca.length > 1 ? item[campoBusca].toLowerCase().includes(termoBusca.toLowerCase()) : false;\n    }));\n    let componenteResultado = document.querySelector(\"[data-resultado]\");\n    if (dadosLista.length > 0) {\n      componenteResultado.style.display = \"block\";\n    } else {\n      componenteResultado.style.display = \"none\";\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"barra\",\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        width: \"16\",\n        height: \"16\",\n        fill: \"currentColor\",\n        className: \"bi bi-search\",\n        viewBox: \"0 0 16 16\",\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          d: \"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        type: \"text\",\n        placeholder: placeHolder,\n        value: termoBusca,\n        required: true,\n        ref: inputBusca,\n        onChange: f => {\n          setTermoBusca(f.target.value.toLowerCase());\n          filtrarResultado();\n          //testar se o elemento do input é válido ou não\n          if (!itemSelecionado) {\n            f.target.setAttribute(\"aria-invalid\", true);\n            f.target.setCustomValidity(\"ocorreu um erro..\");\n          } else {\n            f.target.removeAttribute(\"aria-invalid\");\n            f.target.setCustomValidity(\"\");\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        width: \"16\",\n        height: \"16\",\n        fill: \"currentColor\",\n        className: \"bi bi-x\",\n        viewBox: \"0 0 16 16\",\n        onClick: () => {\n          setTermoBusca(\"\");\n          filtrarResultado();\n          setItemSelecionado(\"false\");\n          funcaoSelecao({});\n          inputBusca.current.setAttribute(\"aria-invalid\", true);\n          inputBusca.current.setCustomValidity(\"erro ao apagar..\");\n        },\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          d: \"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"resultado\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          \"data-resultado\": true,\n          children: dadosLista.map(item => {\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              //selecionar um item da lista\n              onClick: () => {\n                setTermoBusca(item[campoBusca]);\n                funcaoSelecao(item);\n                //informar que o componente está limpo, ou válido\n                inputBusca.current.setCustomValidity(\"\");\n                //esconder a lista criada\n                let componenteResultado = document.querySelector(\"[data-resultado]\");\n                componenteResultado.style.display = \"none\";\n              },\n              children: item[campoChave] + \"-\" + item[campoBusca]\n            }, item[campoChave], false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n_s(BarraBusca, \"4YZB/LcwA/fkWXi/L7cZYqJmjFA=\");\n_c = BarraBusca;\nvar _c;\n$RefreshReg$(_c, \"BarraBusca\");","map":{"version":3,"names":["useState","useRef","Form","Button","Container","BarraBusca","placeHolder","dados","campoChave","campoBusca","funcaoSelecao","valor","inputBusca","termoBusca","setTermoBusca","dadosLista","setDadosLista","itemSelecionado","setItemSelecionado","filtrarResultado","filter","item","length","toLowerCase","includes","componenteResultado","document","querySelector","style","display","f","target","value","setAttribute","setCustomValidity","removeAttribute","current","map"],"sources":["C:/Users/TocaDosGatos/Documents/FIPP-2022/Programação FullStack I/Atividadefinalvc1 (2)/Atividade-final-vc2 - Copia (2)/frontend/src/componentes/busca/BarraBusca.jsx"],"sourcesContent":["import { useState, useRef } from \"react\";\r\nimport { Form, Button, Container } from \"react-bootstrap\";\r\nimport \"./barraBusca.css\";\r\n\r\nexport default function BarraBusca({\r\n  placeHolder,\r\n  dados,\r\n  campoChave,\r\n  campoBusca,\r\n  funcaoSelecao,\r\n  valor,\r\n}) {\r\n  //manipula o input (ciclo de vida)\r\n  const inputBusca = useRef();\r\n  //definição dos estados do componente\r\n  const [termoBusca, setTermoBusca] = useState(valor ? valor : \"\");\r\n  const [dadosLista, setDadosLista] = useState(dados);\r\n  const [itemSelecionado, setItemSelecionado] = useState(false);\r\n\r\n  function filtrarResultado() {\r\n    //exige que o termo da busca seja conhecido e que seja utilizado como\r\n    //critério de seleção\r\n    setDadosLista(\r\n      dados.filter((item) => \r\n      {\r\n       return termoBusca.length > 1 ? item[campoBusca].toLowerCase().includes(termoBusca.toLowerCase()): false;\r\n      }));\r\n\r\n    let componenteResultado = document.querySelector(\"[data-resultado]\");\r\n\r\n    if (dadosLista.length > 0) {\r\n      componenteResultado.style.display = \"block\";\r\n    } else {\r\n      componenteResultado.style.display = \"none\";\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container>\r\n      <div className=\"barra\">\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          width=\"16\"\r\n          height=\"16\"\r\n          fill=\"currentColor\"\r\n          className=\"bi bi-search\"\r\n          viewBox=\"0 0 16 16\"\r\n        >\r\n          <path d=\"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z\" />\r\n        </svg>\r\n\r\n        <Form.Control\r\n          type=\"text\"\r\n          placeholder={placeHolder}\r\n          value={termoBusca}\r\n          required\r\n          ref={inputBusca}\r\n          onChange={(f) => {\r\n            setTermoBusca(f.target.value.toLowerCase());\r\n            filtrarResultado();\r\n            //testar se o elemento do input é válido ou não\r\n            if (!itemSelecionado) {\r\n              f.target.setAttribute(\"aria-invalid\", true);\r\n              f.target.setCustomValidity(\"ocorreu um erro..\");\r\n            } else {\r\n              f.target.removeAttribute(\"aria-invalid\");\r\n              f.target.setCustomValidity(\"\");\r\n            }\r\n          }}\r\n        />\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          width=\"16\"\r\n          height=\"16\"\r\n          fill=\"currentColor\"\r\n          className=\"bi bi-x\"\r\n          viewBox=\"0 0 16 16\"\r\n          onClick=\r\n          {() => {\r\n            setTermoBusca(\"\");\r\n            filtrarResultado();\r\n            setItemSelecionado(\"false\");\r\n            funcaoSelecao({});\r\n\r\n            inputBusca.current.setAttribute(\"aria-invalid\", true);\r\n            inputBusca.current.setCustomValidity(\"erro ao apagar..\");\r\n          }}\r\n        >\r\n          <path d=\"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z\" />\r\n          \r\n        </svg>\r\n\r\n        <div className=\"resultado\">\r\n          <ul data-resultado>\r\n            {dadosLista.map((item) => {\r\n              return (\r\n                <li\r\n                  key={item[campoChave]}\r\n                  //selecionar um item da lista\r\n                  onClick={() => {\r\n                    setTermoBusca(item[campoBusca]);\r\n                    funcaoSelecao(item);\r\n                    //informar que o componente está limpo, ou válido\r\n                    inputBusca.current.setCustomValidity(\"\");\r\n                    //esconder a lista criada\r\n                    let componenteResultado =\r\n                      document.querySelector(\"[data-resultado]\");\r\n                    componenteResultado.style.display = \"none\";\r\n                  }}\r\n                >\r\n                  {item[campoChave] + \"-\" + item[campoBusca]}\r\n                </li>\r\n              );\r\n            })}\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}